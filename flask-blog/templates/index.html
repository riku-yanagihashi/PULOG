{% extends "bootstrap/base.html" %}
{% block title %}TOPãƒšãƒ¼ã‚¸{% endblock %}
{% block content %}

<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light position-fixed" style="height: 100vh; overflow-y: auto; position: fixed; z-index: 999; border-right:2px solid #e9e9e9; padding-right:2px; width: 200px;" >
            <div class="position-sticky">
                <ul class="nav flex-column">
                    <li class="nav-item logo">
                        <a class="nav-link" href="/" style="background-color: white; padding: 0px; width: 100px; height: 50px;">
                            <img src="static/images/PULOG.png" alt="Blog" style="width: 100px; height: 100px;">
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/">
                            ãƒ›ãƒ¼ãƒ 
                        </a>
                    </li>
                    {% if current_user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link" href="/create">æ–°è¦ä½œæˆ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/logout">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
                    </li>
                    <p class="tag-potision" style="scroll-padding-top: 500px;">ãƒ­ã‚°ã‚¤ãƒ³ä¸­: {{ current_user.username }}</p>

                    {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="/login">ãƒ­ã‚°ã‚¤ãƒ³</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/signup">æ–°è¦ç™»éŒ²</a>
                    </li>
                    <p class="tag-potision">ãƒ­ã‚°ã‚¤ãƒ³ä¸­: ã‚²ã‚¹ãƒˆ</p>

                    {% endif %}
                </ul>
            </div>
        </nav>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" style="margin-top: 70px;">
            <div class="d-flex justify-content-between align-items-center mb-3 position-fixed w-100" style="background-color: white; top: 0; z-index: -1; padding-left: 300px;">
                <h1 class="mb-0"></h1>
                <form action="/search" method="POST" class="d-flex">
                    <input type="text" name="query" placeholder="æ¤œç´¢ã™ã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰" class="form-control me-2">
                    <button type="submit" class="btn btn-primary" style="left: 600px; margin-left: 880px; margin-top: -58px;">ğŸ”æ¤œç´¢</button>
                </form>
            </div>

            <div class="article-list" style="margin-top: 100px; max-width: 500px; margin-left: 500px;">
                {% for post in posts %}
                <a class="article" href="{{ url_for('detail', post_id=post.id) }}" style="width: 500px;">
                    {% if post.thumbnail %}
                    <img src="{{ url_for('static', filename='thumbnails/' + post.thumbnail) }}" alt="ã‚µãƒ ãƒã‚¤ãƒ«" width="100%" height="auto">
                    {% endif %}
                        <h2 class="article-title">{{ post.title }}</h2>
                    <p>{{ post.username }}</p>
                </a>
                {% endfor %}
            </div>
        </main>
    </div>
</div>

<style>
    .sidebar {
        box-shadow: inset -1px 0 0 rgba(0, 0, 0, 0.1);
    }

    .nav-link {
        font-weight: 500;
    }

    .nav-link.active {
        color: #007bff;
    }

    .nav-link-hover:hover {
        background-color: #f0f0f0;
    }

    .article-list {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        margin-left: 400px;
        margin-right: 400px;
        padding-top: 20px;
        width: 600px;
    }

    .article {
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 10px;
        margin-bottom: 20px;
        width: 300px;
        transition: transform 0.2s;
    }

    .article:hover {
        transform: translateY(-5px);
    }

    .article-link {
        text-decoration: none;
        color: inherit;
    }

    .article-title {
        margin: 0;
        font-size: 1.5rem;
    }
    .logo {
        width: 100px;
        height: 75px;
        margin: 0;
    }

    .article-title {
    font-size: 24px; /* Twitterã®ã‚ˆã†ãªãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã«è¨­å®š */
    max-width: 400px; /* æœ€å¤§æ¨ªå¹…ã‚’è¨­å®šã—ã€æ­£æ–¹å½¢ã«è¿‘ã¥ã‘ã‚‹ */
    width: 100%; /* å¹…ã‚’100%ã«è¨­å®šã—ã€è¦ªè¦ç´ ã«åˆã‚ã›ã‚‹ */
    /* ãã®ä»–ã®ã‚¹ã‚¿ã‚¤ãƒ«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ */
    }
    .search {
        left: 600px;
    }

    .user-info {
        background-color: #f0f0f0; /* ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ã®èƒŒæ™¯è‰²ã‚’æŒ‡å®š */
        padding: 10px; /* å†…å´ã®ä½™ç™½ã‚’è¿½åŠ  */
        text-align: center; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®å¯„ã›ã«ã™ã‚‹ */
    }

    .user-info p {
        margin: 0; /* ãƒ‘ãƒ©ã‚°ãƒ©ãƒ•ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ */
        font-weight: bold; /* ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤ªå­—ã«ã™ã‚‹ */
    }

    .tag-position {
        display:contents;
        align-items: flex-end;
    }
</style>

{% endblock %}
